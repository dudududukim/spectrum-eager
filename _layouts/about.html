---
layout: default
---

<div class="about-page">
    <div class="container">
        <header class="page-header">
            <h1 class="page-title">{{ site.personal.name | default: site.site.author }}</h1>
            {% if site.personal.tagline %}
                <p class="page-subtitle">{{ site.personal.tagline }}</p>
            {% endif %}
        </header>

        <div class="about-content">
            <div class="about-main">
                <div class="about-text">
                    {% if page.content %}
                        {{ content }}
                    {% elsif site.personal.bio %}
                        <p>{{ site.personal.bio }}</p>
                    {% else %}
                        <p>{{ site.personal.bio | default: "Welcome to my personal website. I'm passionate about technology, design, and sharing knowledge through my daily tech insights and photography." }}</p>
                    {% endif %}
                </div>

                <div class="about-photo">
                    {% if site.personal.photo %}
                        {% assign photo_path = site.personal.photo | relative_url %}
                        <img 
                            src="{{ photo_path }}" 
                            alt="{{ site.personal.name | default: site.site.author }} portrait"
                            loading="lazy"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                        >
                        <div class="empty-photo-placeholder" style="display: none;">
                            <p class="empty-message">Add your profile photo to <code>assets/images/me/</code> folder and set <code>personal.photo</code> in <code>_config.yml</code></p>
                        </div>
                    {% else %}
                        <div class="empty-photo-placeholder">
                            <p class="empty-message">Add your profile photo to <code>assets/images/me/</code> folder and set <code>personal.photo</code> in <code>_config.yml</code></p>
                        </div>
                    {% endif %}
                </div>
            </div>

            {% if site.personal.location %}
                <div class="about-details">
                    <div class="detail-item">
                        <span class="detail-label">Location</span>
                        <span class="detail-value">{{ site.personal.location }}</span>
                    </div>
                </div>
            {% endif %}
        </div>

        <!-- Tech Bites Preview -->
        {% include get-section-config.html section_key="tech-bites" %}
        {% if section_config == null or section_config.enabled != false %}
            <section class="tech-bites-preview">
                {% comment %} Load featured sections from _sections config files (via site.section_definitions) {% endcomment %}
                {% assign tabs = '' | split: '' %}
                {% if site.section_definitions %}
                    {% for section_pair in site.section_definitions %}
                        {% assign section_key = section_pair[0] %}
                        {% assign section_data = section_pair[1] %}
                        {% if section_data.type == 'tech-bites-preview' and section_data.enabled != false %}
                            {% assign tabs = tabs | push: section_data %}
                        {% endif %}
                    {% endfor %}
                {% endif %}
                {% comment %} Sort by order field {% endcomment %}
                {% assign sorted_tabs = '' | split: '' %}
                {% for i in (1..100) %}
                    {% for tab in tabs %}
                        {% if tab.order == i %}
                            {% assign sorted_tabs = sorted_tabs | push: tab %}
                        {% endif %}
                    {% endfor %}
                {% endfor %}
                {% if sorted_tabs.size > 0 %}
                    {% assign tabs = sorted_tabs %}
                {% endif %}
                {% if site.section_definitions and tabs.size > 0 %}
                    <div 
                        class="section-header section-header-slider" 
                        data-tabs="{{ tabs | jsonify | escape }}"
                        data-baseurl="{{ '' | relative_url }}"
                        data-default-label="{{ site.content.ui.buttons.view_all_tech_bites | default: 'View All Tech Bites' }}"
                    >
                        <button class="section-nav-btn section-nav-prev" type="button" aria-label="Previous section">‹</button>
                        <div class="section-header-text">
                            <h2 class="section-title" id="section-tab-title">
                                {{ site.content.pages.tech_bites.title | default: "Recent Tech Bites" }}
                            </h2>
                            <p class="section-description" id="section-tab-desc">
                                {{ site.content.pages.tech_bites.description | default: "Daily tech insights and discoveries" }}
                            </p>
                        </div>
                        <button class="section-nav-btn section-nav-next" type="button" aria-label="Next section">›</button>
                    </div>

                    <!-- Tech Bites Grid -->
                    <div class="tech-bites-grid" data-section="tech-bites">
                        {% include get-section-config.html section_key="tech-bites" %}
                        {% assign tech_bites_posts = site.posts | where: "section", "tech-bites" | sort: 'date' | reverse %}
                        {% assign tech_bites_limit = section_config.main_page_count | default: 5 %}
                        {% if tech_bites_posts.size > 0 %}
                            {% for tech_bite in tech_bites_posts limit: tech_bites_limit %}
                                {% include tech-bite-card.html tech_bite=tech_bite %}
                            {% endfor %}
                        {% else %}
                            <p class="empty-section-message">No posts yet. Add posts to <code>_posts/</code> folder with <code>section: "tech-bites"</code> in front matter.</p>
                        {% endif %}
                    </div>
                {% else %}
                    <div class="empty-section-message">
                        <p>No sections configured yet. Create <code>_sections/</code> folder and add section config files.</p>
                        <p>Example: Create <code>_sections/tech-bites/config.yml</code> with section settings.</p>
                    </div>
                {% endif %}

                <!-- 3D Printing Grid -->
                <div class="tech-bites-grid" data-section="3d-printing" hidden>
                    {% include get-section-config.html section_key="3d-printing" %}
                    {% assign printing_posts = site.posts | where: "section", "3d-printing" | sort: 'date' | reverse %}
                    {% assign printing_limit = section_config.main_page_count | default: 5 %}
                    {% for tech_bite in printing_posts limit: printing_limit %}
                        {% include tech-bite-card.html tech_bite=tech_bite %}
                    {% endfor %}
                    {% if printing_posts.size == 0 %}
                        <p class="empty-section-message">No posts yet. Coming soon!</p>
                    {% endif %}
                </div>

                <!-- Research HW Grid -->
                <div class="tech-bites-grid" data-section="research-hw" hidden>
                    {% include get-section-config.html section_key="research-hw" %}
                    {% assign research_posts = site.posts | where: "section", "research-hw" | sort: 'date' | reverse %}
                    {% assign research_limit = section_config.main_page_count | default: 5 %}
                    {% for tech_bite in research_posts limit: research_limit %}
                        {% include tech-bite-card.html tech_bite=tech_bite %}
                    {% endfor %}
                    {% if research_posts.size == 0 %}
                        <p class="empty-section-message">No posts yet. Coming soon!</p>
                    {% endif %}
                </div>

                <!-- Research SW Grid -->
                <div class="tech-bites-grid" data-section="research-sw" hidden>
                    {% include get-section-config.html section_key="research-sw" %}
                    {% assign research_sw_posts = site.posts | where: "section", "research-sw" | sort: 'date' | reverse %}
                    {% assign research_sw_limit = section_config.main_page_count | default: 5 %}
                    {% for tech_bite in research_sw_posts limit: research_sw_limit %}
                        {% include tech-bite-card.html tech_bite=tech_bite %}
                    {% endfor %}
                    {% if research_sw_posts.size == 0 %}
                        <p class="empty-section-message">No posts yet. Coming soon!</p>
                    {% endif %}
                </div>

                <!-- Projects Grid -->
                <div class="tech-bites-grid" data-section="projects" hidden>
                    {% include get-section-config.html section_key="projects" %}
                    {% assign projects_posts = site.posts | where: "section", "projects" | sort: 'date' | reverse %}
                    {% assign projects_limit = section_config.main_page_count | default: 5 %}
                    {% for tech_bite in projects_posts limit: projects_limit %}
                        {% include tech-bite-card.html tech_bite=tech_bite %}
                    {% endfor %}
                    {% if projects_posts.size == 0 %}
                        <p class="empty-section-message">No posts yet. Coming soon!</p>
                    {% endif %}
                </div>

                {% comment %} Only show button if sections are configured {% endcomment %}
                {% if site.section_definitions and tabs.size > 0 %}
                    <div class="section-footer">
                        <a href="{{ '/tech-bites/' | relative_url }}" class="section-button">
                            <span class="btn-label">{{ site.content.ui.buttons.view_all_tech_bites | default: "View All Tech Bites" }}</span>
                            <span class="btn-icon">→</span>
                        </a>
                    </div>
                {% endif %}

                <script>
                  (function() {
                    const header = document.querySelector('.section-header-slider');
                    if (!header) return;

                    let tabs;
                    try {
                      tabs = JSON.parse(header.dataset.tabs || '[]');
                    } catch (e) {
                      tabs = [];
                    }
                    if (!Array.isArray(tabs) || tabs.length === 0) return;

                    const titleEl = document.getElementById('section-tab-title');
                    const descEl = document.getElementById('section-tab-desc');
                    const grids = document.querySelectorAll('.tech-bites-grid[data-section]');
                    const prevBtn = header.querySelector('.section-nav-prev');
                    const nextBtn = header.querySelector('.section-nav-next');
                    const actionBtn = document.querySelector('.section-footer .section-button');
                    const actionBtnLabel = actionBtn?.querySelector('.btn-label');
                    const baseUrl = (header.dataset.baseurl || '').replace(/\/$/, '');
                    const defaultLabel = header.dataset.defaultLabel || '';

                    let idx = 0;

                    function resolveUrl(url) {
                      if (!url) return '#';
                      if (url.startsWith('http') || url.startsWith('#')) return url;
                      if (url.startsWith('/')) return `${baseUrl}${url}`;
                      return url;
                    }

                    function buildButtonClass(key) {
                      const safeKey = key ? key.replace(/[^a-z0-9_-]/gi, '').toLowerCase() : 'default';
                      return `section-button section-button--${safeKey}`;
                    }

                    function render() {
                      const tab = tabs[idx];
                      if (!tab || !titleEl || !descEl) return;
                      titleEl.textContent = tab.title || '';
                      descEl.textContent = tab.description || '';

                      // Show/hide grids based on current section key
                      const currentKey = tab.key || 'tech-bites';
                      grids.forEach(grid => {
                        const gridSection = grid.dataset.section;
                        grid.hidden = gridSection !== currentKey;
                      });

                      if (actionBtn) {
                        const label = tab.button_text || defaultLabel || tab.title || '';
                        if (actionBtnLabel) actionBtnLabel.textContent = label;
                        const url = tab.url || tab.button_url || '';
                        actionBtn.href = resolveUrl(url);
                        actionBtn.className = buildButtonClass(tab.key);
                        actionBtn.hidden = !url;
                      }
                    }

                    function step(delta) {
                      idx = (idx + delta + tabs.length) % tabs.length;
                      render();
                    }

                    prevBtn?.addEventListener('click', () => step(-1));
                    nextBtn?.addEventListener('click', () => step(1));

                    render();
                  })();
                </script>
            </section>
        {% endif %}

        <!-- Gallery Track Preview -->
        {% include gallery-track.html %}

    </div>
</div>
